var pre = "sendir,1:3,1,38000,1,1";
var pre3 = "sendir,1:3,1,38000,3,1";
var COMMANDS = {
    "tv.powerOn": ",172,172,22,64,22,64,22,64,22,21,22,21,22,21,22,21,22,21,22,64,22,64,22,64,22,21,22,21,22,21,22,21,22,21,22,64,22,21,22,21,22,64,22,64,22,21,22,21,22,64,22,21,22,64,22,64,22,21,22,21,22,64,22,64,22,21,22,1820",
    "tv.powerOff": ",173,173,21,65,21,65,21,65,21,21,21,21,21,21,21,21,21,21,21,65,21,65,21,65,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,65,21,65,21,21,21,21,21,65,21,65,21,65,21,65,21,21,21,21,21,65,21,65,21,21,21,1832",
    "dvr.powerToggle": ",15,11,5,11,6,23,6,11,6,17,5,23,6,23,6,11,6,11,5,23,6,23,6,17,6,29,6,11,5,11,6,29,6,11,5,3803",
    "reset": ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,28,6,28,6,16,6,22,6,3263,15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,28,6,28,6,16,6,22,6,3263", 
    // "dvr.5a":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,10,6,10,6,16,6,16,6,3263"+
    //            ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,10,6,10,6,16,6,16,6,3263"+
    //            ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,10,6,10,6,16,6,16,6,4651",

    "1a":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,10,6,22,6,16,6,28,6,10,6,10,6,10,6,16,6,3263",
    "1b":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,10,6,10,6,10,6,16,6,3263",

    "2a":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,10,6,22,6,16,6,28,6,10,6,10,6,10,6,22,6,3263",
    "2b":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,10,6,10,6,10,6,22,6,3263",

    "3a":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,10,6,22,6,16,6,28,6,10,6,10,6,10,6,28,6,3263",
    "3b":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,10,6,10,6,10,6,28,6,3263",

    "4a":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,10,6,22,6,16,6,28,6,10,6,10,6,16,6,10,6,3263",
    "4b":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,10,6,10,6,16,6,10,6,3263",
    
    "5a":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,10,6,22,6,16,6,28,6,10,6,10,6,16,6,16,6,3263",
    "5b":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,10,6,10,6,16,6,16,6,3263",
  
    "6a":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,10,6,22,6,16,6,28,6,10,6,10,6,16,6,22,6,3263",
    "6b":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,10,6,10,6,16,6,22,6,3263",

    "7a":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,10,6,22,6,16,6,28,6,10,6,10,6,16,6,28,6,3263",
    "7b":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,10,6,10,6,16,6,28,6,3263",

    "8a":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,10,6,22,6,16,6,28,6,10,6,10,6,22,6,10,6,3263",
    "8b":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,10,6,10,6,22,6,10,6,3263",

    "9a":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,10,6,22,6,16,6,28,6,10,6,10,6,22,6,16,6,3263",
    "9b":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,10,6,10,6,22,6,16,6,3263",

    "0a":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,10,6,22,6,16,6,28,6,10,6,10,6,10,6,10,6,3263",
    "0b":  ",15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,10,6,10,6,10,6,10,6,3263",

    "receiver.powerOff": ",10,30,10,70,10,30,10,30,10,30,10,30,10,70,10,30,10,70,10,70,10,70,10,70,10,30,10,30,10,30,10,1657,10,30,10,70,10,30,10,30,10,30,10,70,10,30,10,70,10,30,10,30,10,30,10,30,10,70,10,70,10,70,10,1657",
    "receiver.powerOn": ",10,30,10,70,10,30,10,30,10,30,10,70,10,30,10,30,10,70,10,70,10,70,10,70,10,30,10,30,10,30,10,1657,10,30,10,70,10,30,10,30,10,30,10,30,10,70,10,70,10,30,10,30,10,30,10,30,10,70,10,70,10,70,10,1657",
    "receiver.volumeDown": ",10,30,10,70,10,30,10,30,10,30,10,30,10,70,10,30,10,30,10,70,10,70,10,70,10,70,10,30,10,30,10,1657,10,30,10,70,10,30,10,30,10,30,10,70,10,30,10,70,10,70,10,30,10,30,10,30,10,30,10,70,10,70,10,1657",
    "receiver.volumeUp": ",10,30,10,70,10,30,10,30,10,30,10,70,10,30,10,30,10,30,10,70,10,70,10,70,10,70,10,30,10,30,10,1657,10,30,10,70,10,30,10,30,10,30,10,30,10,70,10,70,10,70,10,30,10,30,10,30,10,30,10,70,10,70,10,1657",
    "receiver.dvd": ",10,30,10,70,10,30,10,30,10,30,10,70,10,70,10,30,10,30,10,30,10,70,10,70,10,70,10,30,10,30,10,1657,10,30,10,70,10,30,10,30,10,30,10,30,10,30,10,70,10,70,10,70,10,30,10,30,10,30,10,70,10,70,10,1657",
    "receiver.cable": ",10,30,10,70,10,30,10,30,10,30,10,30,10,30,10,30,10,70,10,30,10,30,10,70,10,70,10,30,10,30,10,1657,10,30,10,70,10,30,10,30,10,30,10,70,10,70,10,70,10,30,10,70,10,70,10,30,10,30,10,70,10,70,10,1657"
};

var bravo = "sendir,1:3,1,38000,1,1,15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,28,6,28,6,16,6,22,6,3263,15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,28,6,28,6,16,6,22,6,3263,15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,10,6,22,6,16,6,28,6,10,6,10,6,16,6,16,6,3263,15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,10,6,22,6,16,6,28,6,10,6,10,6,16,6,16,6,4650,15,10,6,10,6,22,6,10,6,16,6,22,6,22,6,10,6,10,6,22,6,22,6,16,6,28,6,10,6,10,6,16,6,16,6,3263";


var iTach = require('node-itach');
var remote = new iTach({
    host: '192.168.200.70' // required: IP address of your iTach device 
});


//remote.send({ir: pre+COMMANDS["reset"]+COMMANDS["dvr.5a"]+COMMANDS["dvr.5b"]+COMMANDS["dvr.6a"]}, function callback(err) {
remote.send({ir: pre+COMMANDS["reset"]+COMMANDS["5a"]+COMMANDS["5b"]+COMMANDS["6a"]}, function callback(err) {
    if (err) {
        throw new Error(err);
    } else {
        
    }
});
//         remote.send(COMMANDS["dvr.6"], function callback(err) {
//             if (!err) {
//                 remote.send(COMMANDS["dvr.6"], function callback(err) {
//                     if (!err) {
//                         remote.send(COMMANDS["dvr.6"], function callback(err) {
//                             if (!err) {

//                             }
//                         });
//                     }
//                 });
//             }
//         });

// transmit IR codes 
        // remote.send(COMMANDS["receiver.powerOn"], function callback(err) {
        //     if (!err) {
        //         remote.send(COMMANDS["tv.powerOn"], function callback(err) {
        //             if (!err) {
        //                 remote.send(COMMANDS["receiver.cable"], function callback(err) {
        //                     if (!err) {
        //                         remote.send(COMMANDS["dvr.5"], function callback(err) {
        //                             if (!err) {
        //                                 remote.send(COMMANDS["dvr.5"], function callback(err) {
        //                                     if (!err) {
        //                                         remote.send(COMMANDS["dvr.6"], function callback(err) {
        //                                             if (!err) {
        //                                                 console.log("All Done!");
        //                                             }
        //                                         });
        //                                     }
        //                                 });
        //                             }
        //                         });
        //                     }
        //                 });
        //             }
        //         });
        //     }
        // });

// receive IR codes 
// remote.learn(function done(err, code) {
//     if (err) {
//         throw new Error(err);
//     } else {
//         console.log("Received code", code);
//     }
// });